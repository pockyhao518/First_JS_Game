!function(t){var i={};function e(s){if(i[s])return i[s].exports;var n=i[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,e),n.l=!0,n.exports}e.m=t,e.c=i,e.d=function(t,i,s){e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:s})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,i){if(1&i&&(t=e(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(e.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var n in t)e.d(s,n,function(i){return t[i]}.bind(null,n));return s},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},e.p="/dist/",e(e.s=1)}([function(t,i,e){},function(t,i,e){"use strict";e.r(i);e(0);function s(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}var n=[[10,"rgb(100,100,105)"],[20,"rgb(255,255,255)"],[30,"rgb(210,221,187)"],[40,"rgb(209,211,211)"],[50,"rgb(241,194,178)"]],h=function(){function t(i){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.demensions=i,this.idx=Math.floor(Math.random()*(n.length-2))+2;var e=n[this.idx];this.r=e[0],this.color=e[1],this.y=0,this.vx=0,this.vy=8}var i,e,h;return i=t,(e=[{key:"merge",value:function(t){var i=n[t-1];this.r=i[0],this.color=i[1]}},{key:"set",value:function(t){var i=t;i>this.r&&i+this.r<=this.demensions.width?this.x=i-i%this.r:i<this.r?this.x=Math.ceil(i/this.r)*this.r:i+this.r>this.demensions.width&&(this.x=this.demensions.width-this.r)}},{key:"angle",value:function(){return Math.atan2(this.vy,this.vx)}},{key:"speed",value:function(){return Math.sqrt(Math.pow(this.vx,2)+Math.pow(this.vy,2))}},{key:"drawBall",value:function(t){t.beginPath(),t.arc(this.x,this.y,this.r,0,2*Math.PI),t.fillStyle=this.color,t.fill(),t.closePath()}}])&&s(i.prototype,e),h&&s(i,h),t}();function l(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}new(function(){function t(i,e){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.ctx=i.getContext("2d"),this.rect=i.getBoundingClientRect(),this.dimensions={width:i.width,height:i.height},this.cx=null,this.balls=[],this.running=!1,this.moveObject=[],this.score=0,this.ctxside=e.getContext("2d"),this.dimensions2={width:e.width,height:e.height},this.dropevents(),this.restart()}var i,e,s;return i=t,(e=[{key:"play",value:function(){this.running=!0,this.animate()}},{key:"restart",value:function(){this.running=!1,this.score=0,this.balls=[];var t=new h(this.dimensions);this.balls.push(t),this.animate()}},{key:"dropevents",value:function(){this.boundClickHandler=this.click.bind(this),this.ctx.canvas.addEventListener("mousedown",this.boundClickHandler)}},{key:"click",value:function(t){var i=new h(this.dimensions);this.balls.push(i),this.balls[this.balls.length-2].set(t.pageX-this.rect.left),this.moveObject=this.balls.slice(0,this.balls.length-1),this.running||this.play()}},{key:"distance",value:function(t,i){return Math.sqrt(Math.pow(t.x-i.x,2)+Math.pow(t.y-i.y,2))}},{key:"ballCollision",value:function(){for(var t=0;t<this.moveObject.length-1;t++){for(var i=t+1;i<this.moveObject.length;i++){var e=this.moveObject[t],s=this.moveObject[i],n=this.distance(e,s);if(s.x,e.x,s.y,e.y,n<=e.r+s.r){var l=e.angle(),a=s.angle(),r=Math.atan2(s.y-e.y,s.x-e.x),o=e.r/5,c=s.r/5,d=e.speed(),u=s.speed(),f=(d*Math.cos(l-r)*(o-c)+2*c*u*Math.cos(a-r))/(o+c)*Math.cos(r)+d*Math.sin(l-r)*Math.cos(r+Math.PI/2),x=(d*Math.cos(l-r)*(o-c)+2*c*u*Math.cos(a-r))/(o+c)*Math.sin(r)+d*Math.sin(l-r)*Math.sin(r+Math.PI/2),v=(u*Math.cos(a-r)*(c-o)+2*o*d*Math.cos(l-r))/(o+c)*Math.cos(r)+u*Math.sin(a-r)*Math.cos(r+Math.PI/2),b=(u*Math.cos(a-r)*(c-o)+2*o*d*Math.cos(l-r))/(o+c)*Math.sin(r)+u*Math.sin(a-r)*Math.sin(r+Math.PI/2);if(this.check(e,s))if("rgb(100,100,105)"===e.color)this.moveObject.splice(i,1),this.moveObject.splice(t,1),this.balls.splice(i,1),this.balls.splice(t,1),this.score+=5;else{var y=(e.x+s.x)/2,m=(e.y+s.y)/2,g=new h(this.dimensions);g.merge(s.idx),g.x=y,g.y=m,g.idx=s.idx-1,g.vy=this.dimensions.height/100/2,this.moveObject.splice(i,1),this.moveObject.splice(t,1,g),this.balls.splice(i,1),this.balls.splice(t,1,g),this.score+=6-s.r/10}else e.vx=f,e.vy=x,s.vx=v,s.vy=b,this.countAttack(e,s)}}this.balls.length>1&&this.wall(this.moveObject[t])}this.moveObject.length>0&&this.wall(this.moveObject[this.moveObject.length-1])}},{key:"countAttack",value:function(t,i){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=t.r+i.r-this.distance(t,i),n=t.r<i.r?t:i,h=t.r>i.r?t:i;if(e){var l=[h,n];n=l[0],h=l[1]}var a=Math.atan2(h.y-n.y,h.x-n.x);n.x-=s*Math.cos(a),n.y-=s*Math.sin(a),this.distance(t,i)<t.r+i.r&&(e||this.countAttack(t,i,!0))}},{key:"wall",value:function(t){(t.x-t.r<0||t.x+t.r>this.dimensions.width)&&(t.vx*=-.9),t.y+t.r>this.dimensions.height&&(t.vy*=-.9),t.y-t.r<100&&(t.vy=Math.abs(t.vy)),t.y+t.r>this.dimensions.height&&(t.y=this.dimensions.height-t.r),t.y-t.r<0&&(t.y=t.r),t.x+t.r>this.dimensions.width&&(t.x=this.dimensions.width-t.r),t.x-t.r<0&&(t.x=t.r)}},{key:"ballmove",value:function(){var t=this;this.moveObject.forEach((function(i){i.x+=i.vx,i.y+=i.vy,i.drawBall(t.ctx)}))}},{key:"check",value:function(t,i){return t.color===i.color}},{key:"gameOver",value:function(){return this.balls.length>7}},{key:"animate",value:function(){this.ctx.clearRect(0,0,this.dimensions.width,this.dimensions.height),this.ctxside.clearRect(0,0,this.dimensions.width,this.dimensions.height),this.ballCollision(),this.ballmove(),1===this.balls.length&&this.ctx.clearRect(0,0,this.dimensions.width,this.dimensions.height),this.gameOver()&&(alert("Congratulations, You got: "+this.score+" pts."),this.restart()),this.ctxside.beginPath(),this.ctxside.font="20px PT Sans",this.ctxside.fillStyle="#97928A",this.ctxside.fillText("Next Ball",15,20,100),this.ctxside.closePath(),this.ctxside.beginPath(),this.ctxside.arc(40,40,10,0,2*Math.PI),this.ctxside.fillStyle=this.balls[this.balls.length-1].color,this.ctxside.fill(),this.ctxside.closePath(),this.ctxside.beginPath(),this.ctxside.font="20px PT Sans",this.ctxside.fillStyle="#97928A",this.ctxside.fillText("Balls",15,80,100),this.ctxside.fillText(7-this.balls.length+" / 6",15,110,100),this.ctxside.fillText("Scores",15,140,100),this.ctxside.fillText(this.score,15,170,100),this.ctxside.fillText("How To Play",10,210,100),this.ctxside.fillText("Click to drop",10,250,100),this.ctxside.fillText("the ball,",10,280,100),this.ctxside.fillText("you can drop",10,310,100),this.ctxside.fillText("up to 6 balls",10,340,100),this.ctxside.fillText("can be placed.",10,370,100),this.ctxside.fillText("Contact balls",10,400,100),this.ctxside.fillText("of the same",10,430,100),this.ctxside.fillText("size will merge",10,460,100),this.ctxside.fillText("and become",10,490,100),this.ctxside.fillText("smaller.",10,520,100),this.ctxside.closePath(),this.running&&requestAnimationFrame(this.animate.bind(this))}}])&&l(i.prototype,e),s&&l(i,s),t}())(document.getElementById("gamescreen"),document.getElementById("side"))}]);
//# sourceMappingURL=main.js.map